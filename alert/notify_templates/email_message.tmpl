<!DOCTYPE html>
<html lang="en">
<body
  style="margin:0; padding:0; background-color:#f6f8fa;
         font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,
         Helvetica,Arial,sans-serif; color:#24292f;"
>
  <table role="presentation" cellpadding="0" cellspacing="0" width="100%"
    style="background-color:#f6f8fa; padding:24px 0;"
  >
    <tr>
      <td align="center">
        <table role="presentation" cellpadding="0" cellspacing="0" width="600"
          style="width:600px; max-width:90%; background:#ffffff;
                 border:1px solid #d0d7de; border-radius:6px; overflow:hidden;"
        >
          <tr>
            <td
              style="padding:16px 20px; border-bottom:1px solid #d0d7de;
                     background:#f6f8fa;"
            >
              <div style="font-size:14px;color:#57606a;">System alert</div>
              <div
                style="display:flex; align-items:center; gap:8px; margin-top:6px;"
              >
                {{- $sev := index . "severity" -}}
                {{- if eq $sev 3 -}}
                  <span
                    style="display:inline-block; padding:2px 8px; font-size:12px;
                           font-weight:600; color:#fff; background:#d1242f;
                           border-radius:999px; margin-right:8px;"
                  >üö® Critical</span>
                {{- else if eq $sev 2 -}}
                  <span
                    style="display:inline-block; padding:2px 8px; font-size:12px;
                           font-weight:600; color:#fff; background:#bf8700;
                           border-radius:999px; margin-right:8px;"
                  >‚ö†Ô∏è High</span>
                {{- else if eq $sev 1 -}}
                  <span
                    style="display:inline-block; padding:2px 8px; font-size:12px;
                           font-weight:600; color:#24292f; background:#fdde6c;
                           border-radius:999px; margin-right:8px;"
                  >‚ùó Medium</span>
                {{- else -}}
                  <span
                    style="display:inline-block; padding:2px 8px; font-size:12px;
                           font-weight:600; color:#24292f; background:#cce5d0;
                           border-radius:999px; margin-right:8px;"
                  >‚ÑπÔ∏è Low</span>
                {{- end }}
                <span style="font-size:18px;font-weight:600;">{{ index . "id" }}</span>
              </div>
            </td>
          </tr>

          <tr>
            <td style="padding:20px;">
              <table role="presentation" cellpadding="0" cellspacing="0"
                width="100%"
                style="border-collapse:separate; border-spacing:0 8px;"
              >
                <tr>
                  <td
                    style="width:160px; color:#57606a; font-size:12px;
                           vertical-align:top;"
                  >Time</td>
                  <td style="font-size:14px; vertical-align:top;">
                    {{- if not (index . "to").IsZero -}}
                      {{ (index . "from").Format "2006-01-02 15:04:05 MST" }} ‚Äî {{ (index . "to").Format "2006-01-02 15:04:05 MST" }}
                    {{- else -}}
                      {{ (index . "from").Format "2006-01-02 15:04:05 MST" }}
                    {{- end -}}
                  </td>
                </tr>
              </table>

              {{- with index . "description" }}
              <div
                style="margin-top:12px; margin-bottom:4px; font-size:12px;
                       color:#57606a;"
              >Description</div>
              <div
                style="font-size:14px; color:#24292f; line-height:1.5;"
              >{{ . }}</div>
              {{- end }}
              <div
                style="margin-top:16px; margin-bottom:4px; font-size:12px;
                       color:#57606a;"
              >Details</div>
              <table role="presentation" cellpadding="0" cellspacing="0"
                width="100%"
                style="border:1px solid #d0d7de; border-radius:6px; overflow:hidden;"
              >
                <tbody>
                {{- range $k, $v := . }}
                  {{- if and (ne $k "description") (ne $k "from") (ne $k "to") (ne $k "severity") (ne $k "id") }}
                  <tr>
                    <td
                      style="width:40%; padding:10px 12px; font-size:13px;
                             color:#57606a; background:#f6f8fa;
                             border-bottom:1px solid #d0d7de;"
                    >{{$k}}</td>
                    <td
                      style="padding:10px 12px; font-size:13px; color:#24292f;
                             border-bottom:1px solid #d0d7de;"
                    >{{$v}}</td>
                  </tr>
                  {{- end }}
                {{- end }}
                </tbody>
              </table>

              <div
                style="margin-top:16px; font-size:12px; color:#57606a;
                       line-height:1.5;"
              >
                You are receiving this message because an alert was triggered.
              </div>
            </td>
          </tr>

          <tr>
            <td
              style="padding:14px 20px; border-top:1px solid #d0d7de;
                     background:#f6f8fa; color:#57606a; font-size:12px;"
            >
              This is an automated message. Do not reply.
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>